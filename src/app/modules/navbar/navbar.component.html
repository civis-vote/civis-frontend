<div class="navbar-index" *ngIf ="currentUrl !== 'auth'" [ngClass]="(currentUrl == 'landing') && (transparentNav === false) ? 'blue-nav' : 'white-nav'">

  <nav class="navbar-space row no-gutters user-nav">
    <div class="navbar-space__left" [ngClass]="currentUrl !== 'consultations-profile' ? 'col-6' : 'col-4'">
      <div class="logo-space pointer" [routerLink]="currentUser ? '/profile' : '/'">
        <img class="logo pointer" src='assets/images/brand-logo/brand-logo.svg' />
      </div>
      <div class="row no-gutters justify-content-between align-items-center links" *ngIf="currentUrl !== 'consultations-profile'">
        <div class="nav-btns">
          <button class="btn btn-transparent font-weight-bold" [routerLink]="['consultations/list']">
            Active Consultations <span class="active-count-box">{{activeCount}}</span>
          </button>
        </div>
        <div class="nav-btns">
          <button class="btn btn-transparent font-weight-bold" [routerLink]="['/leader-board']">Leaderboard</button>
        </div>
        <div class="nav-btns">
          <button class="btn btn-transparent" [routerLink]="['/how-civis-works']">How Civis Works</button>
        </div>
      </div>
    </div>

    <div class="navbar-space__middle col-4" *ngIf="currentUrl === 'consultations-profile'">
      <div class="row no-gutters justify-content-center h-100">
          <a class="profile-tab active-tab px-3" (click)="routeToConsultation('read')">
            <p>Read  &  Respond</p>
            <p>Submit your feedback</p>
          </a>
          <a class="profile-tab px-3" (click)="routeToConsultation('discuss')">
            <p>Discuss  &  Engage</p>
            <p>Talk to the community</p>
          </a>
      </div>
    </div>

    <div class="navbar-space__right" [ngClass]="currentUrl !== 'consultations-profile' ? 'col-6' : 'col-4'">
      <div class="nav-btns" *ngIf="currentUrl !== 'consultations-profile'">
        <button class="btn btn-oval" [routerLink]="currentUser ? '/consultations/new' : '/auth'">Submit a consultation</button>
      </div>
      <div class="nav-btns" *ngIf="!currentUser">
        <button class="btn btn-transparent auth-btn" [routerLink]="['/auth', 'sign-up']">Log in / Sign up</button>
      </div>
      <div class="nav-btns profile-item pointer" *ngIf="currentUser" (click)="showProfilePopup()">
        <img class="avatar--42" src="https://i0.wp.com/www.winhelponline.com/blog/wp-content/uploads/2017/12/user.png?resize=256%2C256&quality=100&ssl=1" />
        <span [ngClass]="currentUrl == 'landing' ? 'clr-white' : 'clr-black'"><i class="fa fa-angle-down ml-2"></i></span>
        
        <div class="profile-popup" *ngIf="profilePopup">
          <p [routerLink]="['/profile']">Profile</p>
          <p (click)="logout($event)">Logout</p>
        </div>
      </div>

      <div class="mobile-space">
        <div class="mobile-space__auth">
          <button class="nav-btn">Sign Up</button>
        </div>
        <div class="mobile-space__menu"> 
          <div class="icon" (click)="openMenu()">
              <i class="fa fa-bars"></i>
          </div>
        </div>
      </div>
    </div>
  </nav>
</div>

<div class="menu-modal">
    <div bsModal #menuModal="bs-modal" class="modal fade mobile-menu" tabindex="-1" 
    [config]="{show: false, backdrop: 'static', ignoreBackdropClick: true, keyboard: false}"
    role="dialog" aria-labelledby="menuModal">
    <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <div class="nav-btn">
          <button class="close-btn btn btn-transparent" (click)="closeMenu()">X</button>
        </div>
        <div class="nav-btn">
          <button class="close-btn btn btn-transparent">Active Consultations</button>
        </div>
        <div class="nav-btn">
          <button class="close-btn btn btn-transparent">Leaderboard</button>
        </div>
        <div class="nav-btn">
          <button class="close-btn btn btn-transparent">How Civis works</button>
        </div>
        <div class="nav-btn">
          <button class="btn-oval">Submit a consultation</button>
        </div>
        <div class="nav-btn">
          <button class="close-btn btn btn-transparent" (click)="closeMenu()" [routerLink]="['/auth', 'sign-up']">Log in / Sign up</button>
        </div>
      </div>
    </div>
    </div>
    </div>
</div>

